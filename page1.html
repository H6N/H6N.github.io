<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title> Where in the world have terrorists attacked? </title>


<style>

body {
  font: 12px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: none;
  shape-rendering: crispEdges;
}

.browser text {
  text-anchor: end;
}

</style>
</head>

<body>

<div class="nav">
  <div class="container">
    <ul class="pull-left">
      <li><a href="note1.html">Name</a></li>
      <li><a href="note2.html">Browse</a></li>
    </ul>
    <ul class="pull-right">
      <li><a href="page1.html">Sign Up</a></li>
      <li><a href="page2.html">Log In</a></li>
      <li><a href="page3.html">Help</a></li>
    </ul>
  </div>
</div>

<div id="map"></div>
<p>Data source: <a href="https://www.start.umd.edu/gtd/">Global Terrorism Database (GTD)</a></p>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/topojson.v1.min.js"></script>

<script src="https://d3js.org/colorbrewer.v1.min.js"></script>
<script src="https://d3-geomap.github.io/d3-geomap/vendor/d3.geomap.dependencies.min.js"></script>
<script src="https://d3-geomap.github.io/d3-geomap/js/d3.geomap.min.js"></script>

</body>

<script>
 import * as geomap from 'geomap.js';
// var format = function(d) {
//     d = d / 1000000;
//     return d3.format(',.02f')(d) + 'M';
// }

var map = d3.geomap.choropleth()
    .geofile('countries.json')
    //https://github.com/yaph/d3-geomap/blob/master/src/topojson/world/countries.json
    //.colors('red')
    //.colors(colorbrewer.YlGnBu[9])
    .column('event count')
    //.format(format)
    //.legend(true)
    //.unitId('country code');

d3.csv('gtd_country_events_total.csv', function(error, data) {
    d3.select('#map')
        .datum(data)
        .call(map.draw, map);
});

// d3.csv('gtd_country_events_total.csv', function(error, data) {
//     map.draw(d3.select("#map").datum(data));
// });
// d3.select('#map-select').on('change', function() {
//     map.column(this.value).update()
// });

</script>
