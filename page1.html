<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 12px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: none;
  shape-rendering: crispEdges;
}

.browser text {
  text-anchor: end;
}

</style>
<body>
<link href="/d3-geomap/css/d3.geomap.css" rel="stylesheet">
<script src="/d3-geomap/vendor/d3.geomap.dependencies.min.js"></script>
<script src="/d3-geomap/js/d3.geomap.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="http://d3js.org/d3.geo.projection.v0.min.js"></script>
<script src="http://d3js.org/topojson.v1.min.js"></script>
<script src="http://d3js.org/colorbrewer.v1.min.js"></script>


<div class="nav">
  <div class="container">
    <ul class="pull-left">
      <li><a href="note1.html">Name</a></li>
      <li><a href="note2.html">Browse</a></li>
    </ul>
    <ul class="pull-right">
      <li><a href="page1.html">Sign Up</a></li>
      <li><a href="page2.html">Log In</a></li>
      <li><a href="page3.html">Help</a></li>
    </ul>
  </div>
</div>




<div id="chart">
<p>
Where in the world have terrorists attacked?
</p>
</div>

<div id="map"></div>

</body>

<script>

// var format = function(d) {
//     d = d / 1000000;
//     return d3.format(',.02f')(d) + 'M';
// }

var map = d3.geomap.choropleth()
    .geofile('/d3-geomap/topojson/world/countries.json')
    .colors(colorbrewer.YlGnBu[9])
    .column('event count')
    //.format(format)
    .legend(true)
    .unitId('country code');

d3.csv('gtd_country_events_total.csv', function(error, data) {
    d3.select('#map')
        .datum(data)
        .call(map.draw, map);
});

</script>
