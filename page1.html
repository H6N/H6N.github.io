<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title> Where in the world have terrorists attacked? </title>

<style>

body {margin:0;}

ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #f3f3f3;
    position: fixed;
    bottom: 0;
    width: 100%;
    border: 1px solid #e7e7e7;
}

li {
    float: left;
    border-right:1px solid #bbb;
}

#li01 {
  float: none;
  border-right: none;
}

li:last-child {
    border-right: none;
}

li a {
    display: block;
    color: #666;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
}

li a:hover:not(.active) {
    background-color: #ddd;
}

.active {
    color: white;
    background-color: crimson;
}

* {
  font-family: "Helvetica Neue";
}

p {
  font-size: 0.85em;
}

#p01 {
  font-size: 1em;
}

.axis path,
.axis line {
  fill: none;
  stroke: none;
  shape-rendering: crispEdges;
}

.browser text {
  text-anchor: end;
}

svg {
  background: #efefef;
}

.country {
  fill: #cccccc;
  stroke: #333333;
  stroke-width: 0.5;
}

.selected{
  fill: yellow;
}

.clicked{
  fill: red;
}

.city-label{
  font-size: 10px
}

</style>
</head>

<body>

<div style="padding:20px;">
<p id="p01">
The <b>hybrid structure</b> selected for this visualization is
<b>Interactive slide show</b> with 4 narrated slides:
<ol>
  <li id="li01">Animated map</li>
  <li id="li01">Where in the world have terrorists attacked?</li>
  <li id="li01">Who are they targeting?</li>
  <li id="li01">How do they attack?</li>
  <li id="li01">Are terrorist attacks getting worse?</li>
</ol>
Interaction is incorporated within each slide. (select a country or a region,
select a time range)
This structure allows the user to further explore particular points of
the presentation before moving ahead to the next stage of the story.
The interactive slideshow allows for a balanced mix of author-driven
and reader-driven approaches.
Each individual slide communicates author-intended messages prior to
prompting the user to interact with the display.
This structure allows the author to walk the user through data-dimensions
and manipulations step-by-step.
The navigation bar at the bottom of the visualization ensures that
the user only moves forward in the presentation when he is ready to do so,
and allows the user to repeat steps if desired.
</p>
<p id="p01">
layout and design of the <b><u>scenes</u></b> - follow a template for visual
consistency, follow an order to best convey the message, and the essay should
also discuss the layout and any visual structure in these scenes.
(Parameter settings, annotation instances, UI controls.)
</p>
<p id="p01">
application of the <b><u>annotations</u></b> - follow a template for visual
consistency, should highlight specific data items or trends, and the essay
should indicate when they are cleared. (enter(), transition(), exit().)
</p>
<p id="p01">
the <b><u>parameters</u></b> of the narrative visualization, including
describing which parameters control the current state of the narrative
visualization, identified in the essay, which should also discuss the
states of the narrative visualization. (constants, variables, functions)
</p>
<p id="p01">
the <b><u>triggers</u></b>, including what user events trigger what parameter
value changes, and how the viewer is aware of available user events,
identified in the essay, in terms of the events and the parameter changes
they trigger. (parameter, timer, event).
</p>
<p id="p01">
<b><u>User interface events</u></b> listed, along with a description of how
possible user events are communicated to the viewer.
The navigation bar at the bottom of the screen highlights the current page
in crimson, attracting attention, and the other items on the bar hint there
are additional pages hidden. Once the user hovers over the additional items,
the mouse changes shape as well. Users naturally click on them to reveal them.
On all slides, when the user hovers over the chart elements additional
information is revealed as a tooltip.

</p>
<p id="p01">
<b>The opening scene should include a button, labeled “About the Visualization,
  ”</b> that presents an essay as described above that addresses the following
  points of the rubric for this assignment.
</p>
<p id="p01">Data source: <a href="https://www.start.umd.edu/gtd/">Global
  Terrorism Database (GTD)</a></p>
<p id="p01" style="font-size:8;">Note: This site is a final project for the
  Data Visualization course as part of MSCS-DS program at the University of
  Illinois at Urbana Champaign.</p>
</div>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/topojson.v1.min.js"></script>

<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="note3.html">Animated map</a></li>
  <li><a href="note2.html">Map - Where in the world?</a></li>
  <li><a href="note1.html">Who are they attacking?</a></li>
  <li><a href="page2.html">How do they attack?</a></li>
  <li><a class="active" href="page1.html">About the Visualization</a></li>
</ul>

</body>

<script>
 //import * as geomap from 'geomap.js';
// var format = function(d) {
//     d = d / 1000000;
//     return d3.format(',.02f')(d) + 'M';
// }

// var worldmap = d3.geomap.choropleth()
//     .geofile('countries.json')
    //https://github.com/yaph/d3-geomap/blob/master/src/topojson/world/countries.json
    //.colors('red')
    //.colors(colorbrewer.YlGnBu[9])
    //.column('event count')
    //.format(format)
    //.legend(true)
    //.unitId('country code');

// (function(){
//     var margin = { top: 50, left: 50, right: 50, left: 50},
//        height = 400 - margin.top - margin.bottom,
//        width = 800 - margin.left - margin.right;
//
//     var svg = d3.select("#map")
//         .append("svg")
//         .attr("height", height + margin.top + margin.bottom)
//         .attr("width", width + margin.left +margin.right)
//         .append("g")
//         .attr("transform", "translate("+ margin.left +", "+ margin.top +")");
//
//     d3.queue()
//       .defer(d3.json, "countries.json")
//       .defer(d3.csv, "capitals.csv")
//       .await(ready)
//
//     var projection = d3.geoMercator()
//       .translate([ width / 2, height / 2 ])
//       .scale(100) // find the right number to zoom in or out
//
//     var path = d3.gepPath()
//       .projection(projection)
//
// // each file defering, adds an item to the list. data is the countried we read,
// // capitals are from the secong file:
//     function ready (error,data, capitals){
//       console.log(data)
//       var countries = topojason.feature(data, data.objects.countries).features
//       console.log(countries)
//       svg.selectAll(".country")
//         .data(countries)
//         .enter().append("path")
//         .attr("class", "country")
//         .attr("d", path)
//         //.attr("fill", "#cccccc") //light gray, or write a css for this
//         .on('click', function(d) {
//           //console.log(d)
//           //d3.select(this).attr("fill", "yellow") does not work - overwritten by css
//           d3.select(this).classed("clicked", true)
//         })
//         .on('mouseover', function(d) {
//           d3.select(this).classed("selected", true)
//         })
//         .on('mouseout', function(d) {
//           d3.select(this).classed("selected", false)
//         })
//
//         // add cities: get x, y from lat/long + projection
//         console.log(capitals)
//         svg.selectAll(".city-circle")
//           .data(capitals)
//           .enter().append("circle")
//           .attr("r", 2)
//           .attr("cx", function(d){
//             console.log(d)
//             var coords = projection([d.long, d.lat])
//             console.log(coords)
//             return coords[0];
//           })
//           .attr("cy", function(d){
//             console.log(d)
//             var coords = projection([d.long, d.lat])
//             console.log(coords)
//             return coords[1];
//           })
//
//         svg.selectAll(".city-label")
//             .data(capitals)
//             .enter().append("text")
//             .attr("class", "city-label")
//             .attr("x", function(d){
//               console.log(d)
//               var coords = projection([d.long, d.lat])
//               console.log(coords)
//               return coords[0];
//             })
//             .attr("y", function(d){
//               console.log(d)
//               var coords = projection([d.long, d.lat])
//               console.log(coords)
//               return coords[1];
//             })
//             //.text("this is a capital")
//             .text(function(d) {
//               console.log(d)
//               return d.name
//             })
//             // offset the city names
//             .attr("dx", 5)
//             .attr("dy", 2)
//
//     }
// }
// )
//
//
// // d3.csv('gtd_country_events_total.csv', function(error, data) {
// //     console.log(data);
// //     d3.select('#map')
// //         .datum(data)
// //         .call(map.draw, worldmap);
// // });
//
// // d3.csv('gtd_country_events_total.csv', function(error, data) {
// //     map.draw(d3.select("#map").datum(data));
// // });
// // d3.select('#map-select').on('change', function() {
// //     map.column(this.value).update()
// // });

</script>
